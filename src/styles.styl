@import 'yeticss'

html, body
  overflow hidden

#root, .main
  min-height 100vh
  min-width 100vh

.main
  display flex
  flex-flow row wrap

#toolbar, #map
  max-height 100vh
  overflow scroll

#toolbar
  flex 0 0 20em
  padding 10px

#map
  flex 1

.floors
  padding 10px
  background-color $gray-lighter

  .button
    margin-left 10px

.flip
  transform rotate(180deg)

$cell-side = 40px
$cell-border-width = 2px

.cells
  position relative
  height 90vh

.room-cell
  width $cell-side
  height $cell-side
  border $cell-border-width solid black
  line-height $cell-side - (2 * $cell-border-width)
  text-align center
  position absolute
  cursor pointer
  user-select none
  top 50%
  left 50%

  &.new-room
    border-color $blue-saturated-lighter
    background-color $blue-lighter
    top initial
    left initial
    z-index 1

  &.room-west
    margin-left ($cell-side * -1.5) - $cell-border-width
    margin-top -($cell-border-width)

  &.room-east
    margin-left ($cell-side * 1.5) - $cell-border-width
    margin-top -($cell-border-width)

  &.room-north
    margin-top -($cell-side * 1.5) - $cell-border-width
    margin-left -($cell-border-width)

  &.room-south
    margin-top ($cell-side * 1.5) - $cell-border-width
    margin-left -($cell-border-width)

  &.room-up
    margin-left ($cell-side * 1.5) - $cell-border-width
    margin-top -($cell-side * 1.5) - $cell-border-width

  &.room-down
    margin-left ($cell-side * 1.5) - $cell-border-width
    margin-top ($cell-side * 1.5) - $cell-border-width

  &.remove-room, &.edit-room
    width ($cell-side / 2)
    height ($cell-side / 2)
    line-height ($cell-side / 2 - $cell-border-width * 3)
    border-radius 50%

  &.remove-room
    top initial
    margin-top ($cell-side / -2 - $cell-border-width)
    margin-left ($cell-side / -2 - $cell-border-width)
    border-color $red
    background-color $red-lighter

  &.edit-room
    top initial
    margin-top ($cell-side - $cell-border-width)
    margin-left ($cell-side / -2 - $cell-border-width)
    border-color $green
    background-color $green-lighter

  .room-text
    position absolute
    top 0
    left 0
    right 0
    bottom 0

$exit-length = ($cell-side / 2 + 2px)

.room-exit
  height 2px
  width 2px
  border: 2px solid black
  position absolute

  &.room-exit-0
    left 50%
    top -($exit-length)
    height $exit-length
    margin-left -2px

  &.room-exit-1
    right -($exit-length)
    top 50%
    width $exit-length
    margin-left -2px
    margin-top -2px

  &.room-exit-2
    left 50%
    bottom -($exit-length)
    height $exit-length
    margin-left -2px

  &.room-exit-3
    left -($exit-length)
    top 50%
    width $exit-length
    margin-top -2px

  &.room-exit-4
    width ($exit-length / 2)
    height ($exit-length / 2)
    border-left none
    border-top none
    border-bottom 4px solid black
    border-right 4px solid black
    right -($exit-length / 2)
    top ($exit-length / -2 + 5)

  &.room-exit-5
    width ($exit-length / 2)
    height ($exit-length / 2)
    border-left none
    border-bottom none
    border-top 4px solid black
    border-right 4px solid black
    right -($exit-length / 2)
    bottom ($exit-length / -2 + 5)

.starting-room
  background-color $gray-light
  margin-top ($cell-side / -2)
  margin-left ($cell-side / -2)

.selected
  border-color $orange
  background-color $orange-lighter

.rooms-toolbar-table
  table-layout fixed

  tr
    cursor pointer
  td
    text-overflow ellipsis
    white-space nowrap
    overflow hidden

  .number
    width 3rem
    text-align right

  .name
    width 13rem

.modal.modal-no-sections
  form
    text-align left
  .cf .button
    margin-left 20px

.import-text
  min-height 400px

.room-description
  min-height 100px

.button
  &:focus
    background-color darken($blue, 30%)

.button-outlined-neutral
  &:focus
    background-color white
    border-color $gray
    color $gray-dark
